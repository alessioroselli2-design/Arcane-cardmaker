:root{--bg:#0f1115;--panel:#171a21;--stroke:#2a2f3a;--text:#eaeefb;--muted:#9aa4b2}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
header{padding:14px 16px;border-bottom:1px solid var(--stroke);display:flex;justify-content:space-between;align-items:center}
.wrap{display:grid;grid-template-columns:minmax(320px,380px) 1fr;gap:14px;padding:14px}
@media (max-width:980px){.wrap{grid-template-columns:1fr}}
.panel{background:#171a21;border:1px solid var(--stroke);border-radius:12px;padding:12px}
h3{margin:8px 0 10px}
h4{margin:8px 0 6px;font-size:13px;color:#cfd6e6}
label{display:block;font-size:12px;color:var(--muted);margin:8px 0 4px}
input,textarea,select,button{font-family:inherit}
input,textarea,select{width:100%;background:#11141a;color:var(--text);border:1px solid var(--stroke);border-radius:10px;padding:10px;font-size:14px}
input[type=color]{padding:6px;height:40px}
textarea{min-height:110px;resize:vertical}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.row2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.row2.tight{grid-template-columns:1fr 1fr;gap:8px}
.btn{padding:10px 12px;background:#12151b;color:var(--text);border:1px solid var(--stroke);border-radius:10px;cursor:pointer;font-weight:600}
.btnbar{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0}
.btn.primary{background:#34c759;color:#000;border:0}
.btn.ghost{background:#1f1f1f}
.preview .grid2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
canvas{width:100%;height:auto;border-radius:14px;background:#0d0f14;border:1px solid var(--stroke)}
.library{display:grid;grid-template-columns:1fr;gap:8px;margin-top:8px}
.cardRow{display:flex;align-items:center;gap:10px;padding:8px;border:1px solid var(--stroke);border-radius:10px;background:#11141a}
.cardRow img{width:60px;height:84px;border-radius:6px;border:1px solid #333;object-fit:cover}
.cardRow .meta{flex:1 1 auto}
.tag{font-size:11px;color:#9aa4b2}

/* Modal */
.modal-mask{position:fixed;inset:0;z-index:1000;background:#d9cfb2;display:flex;align-items:center;justify-content:center;padding:18px}
.modal-card{background:#171a21;color:#fff;border-radius:14px;padding:20px;max-width:520px;width:100%;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.modal-card h2{margin:0 0 6px}
.stack{display:grid;gap:10px}
.muted{color:var(--muted)}
